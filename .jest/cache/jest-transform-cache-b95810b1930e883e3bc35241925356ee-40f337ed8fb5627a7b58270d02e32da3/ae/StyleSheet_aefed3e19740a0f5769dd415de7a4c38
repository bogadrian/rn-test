afdf4070dcd6c818e2c7545eaafdefbc
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var PixelRatio = require('../Utilities/PixelRatio');

var ReactNativeStyleAttributes = require('../Components/View/ReactNativeStyleAttributes');

var flatten = require('./flattenStyle');

var hairlineWidth = PixelRatio.roundToNearestPixel(0.4);

if (hairlineWidth === 0) {
  hairlineWidth = 1 / PixelRatio.get();
}

var absoluteFill = {
  position: 'absolute',
  left: 0,
  right: 0,
  top: 0,
  bottom: 0
};

if (__DEV__) {
  Object.freeze(absoluteFill);
}

module.exports = {
  hairlineWidth: hairlineWidth,
  absoluteFill: absoluteFill,
  absoluteFillObject: absoluteFill,
  compose: function compose(style1, style2) {
    if (style1 != null && style2 != null) {
      return [style1, style2];
    } else {
      return style1 != null ? style1 : style2;
    }
  },
  flatten: flatten,
  setStyleAttributePreprocessor: function setStyleAttributePreprocessor(property, process) {
    var value;

    if (ReactNativeStyleAttributes[property] === true) {
      value = {
        process: process
      };
    } else if (typeof ReactNativeStyleAttributes[property] === 'object') {
      value = (0, _extends2.default)({}, ReactNativeStyleAttributes[property], {
        process: process
      });
    } else {
      console.error(property + " is not a valid style attribute");
      return;
    }

    if (__DEV__ && typeof value.process === 'function') {
      console.warn("Overwriting " + property + " style attribute preprocessor");
    }

    ReactNativeStyleAttributes[property] = value;
  },
  create: function create(obj) {
    if (__DEV__) {
      for (var _key in obj) {
        if (obj[_key]) {
          Object.freeze(obj[_key]);
        }
      }
    }

    return obj;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQaXhlbFJhdGlvIiwicmVxdWlyZSIsIlJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzIiwiZmxhdHRlbiIsImhhaXJsaW5lV2lkdGgiLCJyb3VuZFRvTmVhcmVzdFBpeGVsIiwiZ2V0IiwiYWJzb2x1dGVGaWxsIiwicG9zaXRpb24iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJfX0RFVl9fIiwiT2JqZWN0IiwiZnJlZXplIiwibW9kdWxlIiwiZXhwb3J0cyIsImFic29sdXRlRmlsbE9iamVjdCIsImNvbXBvc2UiLCJzdHlsZTEiLCJzdHlsZTIiLCJzZXRTdHlsZUF0dHJpYnV0ZVByZXByb2Nlc3NvciIsInByb3BlcnR5IiwicHJvY2VzcyIsInZhbHVlIiwiY29uc29sZSIsImVycm9yIiwid2FybiIsImNyZWF0ZSIsIm9iaiIsImtleSJdLCJzb3VyY2VzIjpbIlN0eWxlU2hlZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBQaXhlbFJhdGlvID0gcmVxdWlyZSgnLi4vVXRpbGl0aWVzL1BpeGVsUmF0aW8nKTtcbmNvbnN0IFJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzID0gcmVxdWlyZSgnLi4vQ29tcG9uZW50cy9WaWV3L1JlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzJyk7XG5cbmNvbnN0IGZsYXR0ZW4gPSByZXF1aXJlKCcuL2ZsYXR0ZW5TdHlsZScpO1xuXG5pbXBvcnQgdHlwZSB7XG4gIF9fX19Db2xvclZhbHVlX0ludGVybmFsLFxuICBfX19fU3R5bGVzX0ludGVybmFsLFxuICBfX19fRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZV9JbnRlcm5hbCxcbiAgX19fX0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wX0ludGVybmFsLFxuICBfX19fVmlld1N0eWxlX0ludGVybmFsLFxuICBfX19fVmlld1N0eWxlUHJvcF9JbnRlcm5hbCxcbiAgX19fX1RleHRTdHlsZV9JbnRlcm5hbCxcbiAgX19fX1RleHRTdHlsZVByb3BfSW50ZXJuYWwsXG4gIF9fX19JbWFnZVN0eWxlX0ludGVybmFsLFxuICBfX19fSW1hZ2VTdHlsZVByb3BfSW50ZXJuYWwsXG59IGZyb20gJy4vU3R5bGVTaGVldFR5cGVzJztcblxuLyoqXG4gKiBUaGlzIHR5cGUgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIHR5cGUgZm9yIGFueXRoaW5nIHRoYXQgaXMgYSBjb2xvci4gSXQgaXNcbiAqIG1vc3QgdXNlZnVsIHdoZW4gdXNpbmcgRHluYW1pY0NvbG9ySU9TIHdoaWNoIGNhbiBiZSBhIHN0cmluZyBvciBhIGR5bmFtaWNcbiAqIGNvbG9yIG9iamVjdC5cbiAqXG4gKiB0eXBlIHByb3BzID0ge2JhY2tncm91bmRDb2xvcjogQ29sb3JWYWx1ZX07XG4gKi9cbmV4cG9ydCB0eXBlIENvbG9yVmFsdWUgPSBfX19fQ29sb3JWYWx1ZV9JbnRlcm5hbDtcblxuLyoqXG4gKiBUaGlzIHR5cGUgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIHR5cGUgZm9yIGEgcHJvcCB0aGF0IGlzIHBhc3NlZCB0aHJvdWdoXG4gKiB0byBhIDxWaWV3PidzIGBzdHlsZWAgcHJvcC4gVGhpcyBlbnN1cmVzIGNhbGwgc2l0ZXMgb2YgdGhlIGNvbXBvbmVudFxuICogY2FuJ3QgcGFzcyBzdHlsZXMgdGhhdCBWaWV3IGRvZXNuJ3Qgc3VwcG9ydCBzdWNoIGFzIGBmb250U2l6ZWAuYFxuICpcbiAqIHR5cGUgUHJvcHMgPSB7c3R5bGU6IFZpZXdTdHlsZVByb3B9XG4gKiBjb25zdCBNeUNvbXBvbmVudCA9IChwcm9wczogUHJvcHMpID0+IDxWaWV3IHN0eWxlPXtwcm9wcy5zdHlsZX0gLz5cbiAqL1xuZXhwb3J0IHR5cGUgVmlld1N0eWxlUHJvcCA9IF9fX19WaWV3U3R5bGVQcm9wX0ludGVybmFsO1xuXG4vKipcbiAqIFRoaXMgdHlwZSBzaG91bGQgYmUgdXNlZCBhcyB0aGUgdHlwZSBmb3IgYSBwcm9wIHRoYXQgaXMgcGFzc2VkIHRocm91Z2hcbiAqIHRvIGEgPFRleHQ+J3MgYHN0eWxlYCBwcm9wLiBUaGlzIGVuc3VyZXMgY2FsbCBzaXRlcyBvZiB0aGUgY29tcG9uZW50XG4gKiBjYW4ndCBwYXNzIHN0eWxlcyB0aGF0IFRleHQgZG9lc24ndCBzdXBwb3J0IHN1Y2ggYXMgYHJlc2l6ZU1vZGVgLmBcbiAqXG4gKiB0eXBlIFByb3BzID0ge3N0eWxlOiBUZXh0U3R5bGVQcm9wfVxuICogY29uc3QgTXlDb21wb25lbnQgPSAocHJvcHM6IFByb3BzKSA9PiA8VGV4dCBzdHlsZT17cHJvcHMuc3R5bGV9IC8+XG4gKi9cbmV4cG9ydCB0eXBlIFRleHRTdHlsZVByb3AgPSBfX19fVGV4dFN0eWxlUHJvcF9JbnRlcm5hbDtcblxuLyoqXG4gKiBUaGlzIHR5cGUgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIHR5cGUgZm9yIGEgcHJvcCB0aGF0IGlzIHBhc3NlZCB0aHJvdWdoXG4gKiB0byBhbiA8SW1hZ2U+J3MgYHN0eWxlYCBwcm9wLiBUaGlzIGVuc3VyZXMgY2FsbCBzaXRlcyBvZiB0aGUgY29tcG9uZW50XG4gKiBjYW4ndCBwYXNzIHN0eWxlcyB0aGF0IEltYWdlIGRvZXNuJ3Qgc3VwcG9ydCBzdWNoIGFzIGBmb250U2l6ZWAuYFxuICpcbiAqIHR5cGUgUHJvcHMgPSB7c3R5bGU6IEltYWdlU3R5bGVQcm9wfVxuICogY29uc3QgTXlDb21wb25lbnQgPSAocHJvcHM6IFByb3BzKSA9PiA8SW1hZ2Ugc3R5bGU9e3Byb3BzLnN0eWxlfSAvPlxuICovXG5leHBvcnQgdHlwZSBJbWFnZVN0eWxlUHJvcCA9IF9fX19JbWFnZVN0eWxlUHJvcF9JbnRlcm5hbDtcblxuLyoqXG4gKiBXQVJOSU5HOiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGJlIHVzaW5nIHRoaXMgdHlwZS4gVGhpcyB0eXBlXG4gKiBpcyBzaW1pbGFyIHRvIHRoZSBvbmVzIGFib3ZlIGV4Y2VwdCBpdCBhbGxvd3Mgc3R5bGVzIHRoYXQgYXJlIGFjY2VwdGVkXG4gKiBieSBhbGwgb2YgVmlldywgVGV4dCwgb3IgSW1hZ2UuIEl0IGlzIHRoZXJlZm9yZSB2ZXJ5IHVuc2FmZSB0byBwYXNzIHRoaXNcbiAqIHRocm91Z2ggdG8gYW4gdW5kZXJseWluZyBjb21wb25lbnQuIFVzaW5nIHRoaXMgaXMgYWxtb3N0IGFsd2F5cyBhIG1pc3Rha2VcbiAqIGFuZCB1c2luZyBvbmUgb2YgdGhlIG90aGVyIG1vcmUgcmVzdHJpY3RpdmUgdHlwZXMgaXMgbGlrZWx5IHRoZSByaWdodCBjaG9pY2UuXG4gKi9cbmV4cG9ydCB0eXBlIERhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wID1cbiAgX19fX0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wX0ludGVybmFsO1xuXG4vKipcbiAqIFV0aWxpdHkgdHlwZSBmb3IgZ2V0dGluZyB0aGUgdmFsdWVzIGZvciBzcGVjaWZpYyBzdHlsZSBrZXlzLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgaXMgYmFkIGJlY2F1c2UgcG9zaXRpb24gaXMgbW9yZSByZXN0cmljdGl2ZSB0aGFuICdzdHJpbmcnOlxuICogYGBgXG4gKiB0eXBlIFByb3BzID0ge3Bvc2l0aW9uOiBzdHJpbmd9O1xuICogYGBgXG4gKlxuICogWW91IHNob3VsZCB1c2UgdGhlIGZvbGxvd2luZyBpbnN0ZWFkOlxuICpcbiAqIGBgYFxuICogdHlwZSBQcm9wcyA9IHtwb3NpdGlvbjogVHlwZUZvclN0eWxlS2V5PCdwb3NpdGlvbic+fTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgd2lsbCBjb3JyZWN0bHkgZ2l2ZSB5b3UgdGhlIHR5cGUgJ2Fic29sdXRlJyB8ICdyZWxhdGl2ZSdcbiAqL1xuZXhwb3J0IHR5cGUgVHlwZUZvclN0eWxlS2V5PFxuICAra2V5OiAkS2V5czxfX19fRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZV9JbnRlcm5hbD4sXG4+ID0gJEVsZW1lbnRUeXBlPF9fX19EYW5nZXJvdXNseUltcHJlY2lzZVN0eWxlX0ludGVybmFsLCBrZXk+O1xuXG4vKipcbiAqIFRoaXMgdHlwZSBpcyBhbiBvYmplY3Qgb2YgdGhlIGRpZmZlcmVudCBwb3NzaWJsZSBzdHlsZVxuICogcHJvcGVydGllcyB0aGF0IGNhbiBiZSBzcGVjaWZpZWQgZm9yIFZpZXcuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgaXNuJ3QgYSBzYWZlIHdheSB0byB0eXBlIGEgc3R5bGUgcHJvcCBmb3IgYSBjb21wb25lbnQgYXNcbiAqIHJlc3VsdHMgZnJvbSBTdHlsZVNoZWV0LmNyZWF0ZSByZXR1cm4gYW4gaW50ZXJuYWwgaWRlbnRpZmllciwgbm90XG4gKiBhbiBvYmplY3Qgb2Ygc3R5bGVzLlxuICpcbiAqIElmIHlvdSB3YW50IHRvIHR5cGUgdGhlIHN0eWxlIHByb3Agb2YgYSBmdW5jdGlvbixcbiAqIGNvbnNpZGVyIHVzaW5nIFZpZXdTdHlsZVByb3AuXG4gKlxuICogQSByZWFzb25hYmxlIHVzYWdlIG9mIHRoaXMgdHlwZSBpcyBmb3IgaGVscGVyIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBhblxuICogb2JqZWN0IG9mIHN0eWxlcyB0byBwYXNzIHRvIGEgVmlldyB0aGF0IGNhbid0IGJlIHByZWNvbXB1dGVkIHdpdGhcbiAqIFN0eWxlU2hlZXQuY3JlYXRlLlxuICovXG5leHBvcnQgdHlwZSBWaWV3U3R5bGUgPSBfX19fVmlld1N0eWxlX0ludGVybmFsO1xuXG4vKipcbiAqIFRoaXMgdHlwZSBpcyBhbiBvYmplY3Qgb2YgdGhlIGRpZmZlcmVudCBwb3NzaWJsZSBzdHlsZVxuICogcHJvcGVydGllcyB0aGF0IGNhbiBiZSBzcGVjaWZpZWQgZm9yIFRleHQuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgaXNuJ3QgYSBzYWZlIHdheSB0byB0eXBlIGEgc3R5bGUgcHJvcCBmb3IgYSBjb21wb25lbnQgYXNcbiAqIHJlc3VsdHMgZnJvbSBTdHlsZVNoZWV0LmNyZWF0ZSByZXR1cm4gYW4gaW50ZXJuYWwgaWRlbnRpZmllciwgbm90XG4gKiBhbiBvYmplY3Qgb2Ygc3R5bGVzLlxuICpcbiAqIElmIHlvdSB3YW50IHRvIHR5cGUgdGhlIHN0eWxlIHByb3Agb2YgYSBmdW5jdGlvbixcbiAqIGNvbnNpZGVyIHVzaW5nIFRleHRTdHlsZVByb3AuXG4gKlxuICogQSByZWFzb25hYmxlIHVzYWdlIG9mIHRoaXMgdHlwZSBpcyBmb3IgaGVscGVyIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBhblxuICogb2JqZWN0IG9mIHN0eWxlcyB0byBwYXNzIHRvIGEgVGV4dCB0aGF0IGNhbid0IGJlIHByZWNvbXB1dGVkIHdpdGhcbiAqIFN0eWxlU2hlZXQuY3JlYXRlLlxuICovXG5leHBvcnQgdHlwZSBUZXh0U3R5bGUgPSBfX19fVGV4dFN0eWxlX0ludGVybmFsO1xuXG4vKipcbiAqIFRoaXMgdHlwZSBpcyBhbiBvYmplY3Qgb2YgdGhlIGRpZmZlcmVudCBwb3NzaWJsZSBzdHlsZVxuICogcHJvcGVydGllcyB0aGF0IGNhbiBiZSBzcGVjaWZpZWQgZm9yIEltYWdlLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGlzbid0IGEgc2FmZSB3YXkgdG8gdHlwZSBhIHN0eWxlIHByb3AgZm9yIGEgY29tcG9uZW50IGFzXG4gKiByZXN1bHRzIGZyb20gU3R5bGVTaGVldC5jcmVhdGUgcmV0dXJuIGFuIGludGVybmFsIGlkZW50aWZpZXIsIG5vdFxuICogYW4gb2JqZWN0IG9mIHN0eWxlcy5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byB0eXBlIHRoZSBzdHlsZSBwcm9wIG9mIGEgZnVuY3Rpb24sXG4gKiBjb25zaWRlciB1c2luZyBJbWFnZVN0eWxlUHJvcC5cbiAqXG4gKiBBIHJlYXNvbmFibGUgdXNhZ2Ugb2YgdGhpcyB0eXBlIGlzIGZvciBoZWxwZXIgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIGFuXG4gKiBvYmplY3Qgb2Ygc3R5bGVzIHRvIHBhc3MgdG8gYW4gSW1hZ2UgdGhhdCBjYW4ndCBiZSBwcmVjb21wdXRlZCB3aXRoXG4gKiBTdHlsZVNoZWV0LmNyZWF0ZS5cbiAqL1xuZXhwb3J0IHR5cGUgSW1hZ2VTdHlsZSA9IF9fX19JbWFnZVN0eWxlX0ludGVybmFsO1xuXG4vKipcbiAqIFdBUk5JTkc6IFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgYmUgdXNpbmcgdGhpcyB0eXBlLiBUaGlzIHR5cGUgaXMgYW4gb2JqZWN0XG4gKiB3aXRoIGFsbCBwb3NzaWJsZSBzdHlsZSBrZXlzIGFuZCB0aGVpciB2YWx1ZXMuIE5vdGUgdGhhdCB0aGlzIGlzbid0XG4gKiBhIHNhZmUgd2F5IHRvIHR5cGUgYSBzdHlsZSBwcm9wIGZvciBhIGNvbXBvbmVudCBhcyByZXN1bHRzIGZyb21cbiAqIFN0eWxlU2hlZXQuY3JlYXRlIHJldHVybiBhbiBpbnRlcm5hbCBpZGVudGlmaWVyLCBub3QgYW4gb2JqZWN0IG9mIHN0eWxlcy5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byB0eXBlIHRoZSBzdHlsZSBwcm9wIG9mIGEgZnVuY3Rpb24sIGNvbnNpZGVyIHVzaW5nXG4gKiBWaWV3U3R5bGVQcm9wLCBUZXh0U3R5bGVQcm9wLCBvciBJbWFnZVN0eWxlUHJvcC5cbiAqXG4gKiBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgdmVyeSBjb3JlIHV0aWxpdGllcyB0aGF0IG9wZXJhdGUgb24gYW4gb2JqZWN0XG4gKiBjb250YWluaW5nIGFueSBwb3NzaWJsZSBzdHlsZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IHR5cGUgRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZSA9IF9fX19EYW5nZXJvdXNseUltcHJlY2lzZVN0eWxlX0ludGVybmFsO1xuXG5sZXQgaGFpcmxpbmVXaWR0aDogbnVtYmVyID0gUGl4ZWxSYXRpby5yb3VuZFRvTmVhcmVzdFBpeGVsKDAuNCk7XG5pZiAoaGFpcmxpbmVXaWR0aCA9PT0gMCkge1xuICBoYWlybGluZVdpZHRoID0gMSAvIFBpeGVsUmF0aW8uZ2V0KCk7XG59XG5cbmNvbnN0IGFic29sdXRlRmlsbCA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIGxlZnQ6IDAsXG4gIHJpZ2h0OiAwLFxuICB0b3A6IDAsXG4gIGJvdHRvbTogMCxcbn07XG5pZiAoX19ERVZfXykge1xuICBPYmplY3QuZnJlZXplKGFic29sdXRlRmlsbCk7XG59XG5cbi8qKlxuICogQSBTdHlsZVNoZWV0IGlzIGFuIGFic3RyYWN0aW9uIHNpbWlsYXIgdG8gQ1NTIFN0eWxlU2hlZXRzXG4gKlxuICogQ3JlYXRlIGEgbmV3IFN0eWxlU2hlZXQ6XG4gKlxuICogYGBgXG4gKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gKiAgIGNvbnRhaW5lcjoge1xuICogICAgIGJvcmRlclJhZGl1czogNCxcbiAqICAgICBib3JkZXJXaWR0aDogMC41LFxuICogICAgIGJvcmRlckNvbG9yOiAnI2Q2ZDdkYScsXG4gKiAgIH0sXG4gKiAgIHRpdGxlOiB7XG4gKiAgICAgZm9udFNpemU6IDE5LFxuICogICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAqICAgfSxcbiAqICAgYWN0aXZlVGl0bGU6IHtcbiAqICAgICBjb2xvcjogJ3JlZCcsXG4gKiAgIH0sXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFVzZSBhIFN0eWxlU2hlZXQ6XG4gKlxuICogYGBgXG4gKiA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gKiAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLnRpdGxlLCB0aGlzLnByb3BzLmlzQWN0aXZlICYmIHN0eWxlcy5hY3RpdmVUaXRsZV19IC8+XG4gKiA8L1ZpZXc+XG4gKiBgYGBcbiAqXG4gKiBDb2RlIHF1YWxpdHk6XG4gKlxuICogIC0gQnkgbW92aW5nIHN0eWxlcyBhd2F5IGZyb20gdGhlIHJlbmRlciBmdW5jdGlvbiwgeW91J3JlIG1ha2luZyB0aGUgY29kZVxuICogIGVhc2llciB0byB1bmRlcnN0YW5kLlxuICogIC0gTmFtaW5nIHRoZSBzdHlsZXMgaXMgYSBnb29kIHdheSB0byBhZGQgbWVhbmluZyB0byB0aGUgbG93IGxldmVsIGNvbXBvbmVudHNcbiAqICBpbiB0aGUgcmVuZGVyIGZ1bmN0aW9uLlxuICpcbiAqIFBlcmZvcm1hbmNlOlxuICpcbiAqICAtIE1ha2luZyBhIHN0eWxlc2hlZXQgZnJvbSBhIHN0eWxlIG9iamVjdCBtYWtlcyBpdCBwb3NzaWJsZSB0byByZWZlciB0byBpdFxuICogYnkgSUQgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBzdHlsZSBvYmplY3QgZXZlcnkgdGltZS5cbiAqICAtIEl0IGFsc28gYWxsb3dzIHRvIHNlbmQgdGhlIHN0eWxlIG9ubHkgb25jZSB0aHJvdWdoIHRoZSBicmlkZ2UuIEFsbFxuICogc3Vic2VxdWVudCB1c2VzIGFyZSBnb2luZyB0byByZWZlciBhbiBpZCAobm90IGltcGxlbWVudGVkIHlldCkuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvKipcbiAgICogVGhpcyBpcyBkZWZpbmVkIGFzIHRoZSB3aWR0aCBvZiBhIHRoaW4gbGluZSBvbiB0aGUgcGxhdGZvcm0uIEl0IGNhbiBiZVxuICAgKiB1c2VkIGFzIHRoZSB0aGlja25lc3Mgb2YgYSBib3JkZXIgb3IgZGl2aXNpb24gYmV0d2VlbiB0d28gZWxlbWVudHMuXG4gICAqIEV4YW1wbGU6XG4gICAqIGBgYFxuICAgKiAgIHtcbiAgICogICAgIGJvcmRlckJvdHRvbUNvbG9yOiAnI2JiYicsXG4gICAqICAgICBib3JkZXJCb3R0b21XaWR0aDogU3R5bGVTaGVldC5oYWlybGluZVdpZHRoXG4gICAqICAgfVxuICAgKiBgYGBcbiAgICpcbiAgICogVGhpcyBjb25zdGFudCB3aWxsIGFsd2F5cyBiZSBhIHJvdW5kIG51bWJlciBvZiBwaXhlbHMgKHNvIGEgbGluZSBkZWZpbmVkXG4gICAqIGJ5IGl0IGxvb2sgY3Jpc3ApIGFuZCB3aWxsIHRyeSB0byBtYXRjaCB0aGUgc3RhbmRhcmQgd2lkdGggb2YgYSB0aGluIGxpbmVcbiAgICogb24gdGhlIHVuZGVybHlpbmcgcGxhdGZvcm0uIEhvd2V2ZXIsIHlvdSBzaG91bGQgbm90IHJlbHkgb24gaXQgYmVpbmcgYVxuICAgKiBjb25zdGFudCBzaXplLCBiZWNhdXNlIG9uIGRpZmZlcmVudCBwbGF0Zm9ybXMgYW5kIHNjcmVlbiBkZW5zaXRpZXMgaXRzXG4gICAqIHZhbHVlIG1heSBiZSBjYWxjdWxhdGVkIGRpZmZlcmVudGx5LlxuICAgKlxuICAgKiBBIGxpbmUgd2l0aCBoYWlybGluZSB3aWR0aCBtYXkgbm90IGJlIHZpc2libGUgaWYgeW91ciBzaW11bGF0b3IgaXMgZG93bnNjYWxlZC5cbiAgICovXG4gIGhhaXJsaW5lV2lkdGgsXG5cbiAgLyoqXG4gICAqIEEgdmVyeSBjb21tb24gcGF0dGVybiBpcyB0byBjcmVhdGUgb3ZlcmxheXMgd2l0aCBwb3NpdGlvbiBhYnNvbHV0ZSBhbmQgemVybyBwb3NpdGlvbmluZyxcbiAgICogc28gYGFic29sdXRlRmlsbGAgY2FuIGJlIHVzZWQgZm9yIGNvbnZlbmllbmNlIGFuZCB0byByZWR1Y2UgZHVwbGljYXRpb24gb2YgdGhlc2UgcmVwZWF0ZWRcbiAgICogc3R5bGVzLlxuICAgKi9cbiAgYWJzb2x1dGVGaWxsOiAoYWJzb2x1dGVGaWxsOiBhbnkpLCAvLyBUT0RPOiBUaGlzIHNob3VsZCBiZSB1cGRhdGVkIGFmdGVyIHdlIGZpeCBkb3duc3RyZWFtIEZsb3cgc2l0ZXMuXG5cbiAgLyoqXG4gICAqIFNvbWV0aW1lcyB5b3UgbWF5IHdhbnQgYGFic29sdXRlRmlsbGAgYnV0IHdpdGggYSBjb3VwbGUgdHdlYWtzIC0gYGFic29sdXRlRmlsbE9iamVjdGAgY2FuIGJlXG4gICAqIHVzZWQgdG8gY3JlYXRlIGEgY3VzdG9taXplZCBlbnRyeSBpbiBhIGBTdHlsZVNoZWV0YCwgZS5nLjpcbiAgICpcbiAgICogICBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgICB3cmFwcGVyOiB7XG4gICAqICAgICAgIC4uLlN0eWxlU2hlZXQuYWJzb2x1dGVGaWxsT2JqZWN0LFxuICAgKiAgICAgICB0b3A6IDEwLFxuICAgKiAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAqICAgICB9LFxuICAgKiAgIH0pO1xuICAgKi9cbiAgYWJzb2x1dGVGaWxsT2JqZWN0OiBhYnNvbHV0ZUZpbGwsXG5cbiAgLyoqXG4gICAqIENvbWJpbmVzIHR3byBzdHlsZXMgc3VjaCB0aGF0IGBzdHlsZTJgIHdpbGwgb3ZlcnJpZGUgYW55IHN0eWxlcyBpbiBgc3R5bGUxYC5cbiAgICogSWYgZWl0aGVyIHN0eWxlIGlzIGZhbHN5LCB0aGUgb3RoZXIgb25lIGlzIHJldHVybmVkIHdpdGhvdXQgYWxsb2NhdGluZyBhblxuICAgKiBhcnJheSwgc2F2aW5nIGFsbG9jYXRpb25zIGFuZCBtYWludGFpbmluZyByZWZlcmVuY2UgZXF1YWxpdHkgZm9yXG4gICAqIFB1cmVDb21wb25lbnQgY2hlY2tzLlxuICAgKi9cbiAgY29tcG9zZTxUOiBEYW5nZXJvdXNseUltcHJlY2lzZVN0eWxlUHJvcD4oXG4gICAgc3R5bGUxOiA/VCxcbiAgICBzdHlsZTI6ID9ULFxuICApOiA/VCB8ICRSZWFkT25seUFycmF5PFQ+IHtcbiAgICBpZiAoc3R5bGUxICE9IG51bGwgJiYgc3R5bGUyICE9IG51bGwpIHtcbiAgICAgIHJldHVybiAoW3N0eWxlMSwgc3R5bGUyXTogJFJlYWRPbmx5QXJyYXk8VD4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3R5bGUxICE9IG51bGwgPyBzdHlsZTEgOiBzdHlsZTI7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGbGF0dGVucyBhbiBhcnJheSBvZiBzdHlsZSBvYmplY3RzLCBpbnRvIG9uZSBhZ2dyZWdhdGVkIHN0eWxlIG9iamVjdC5cbiAgICogQWx0ZXJuYXRpdmVseSwgdGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gbG9va3VwIElEcywgcmV0dXJuZWQgYnlcbiAgICogU3R5bGVTaGVldC5yZWdpc3Rlci5cbiAgICpcbiAgICogPiAqKk5PVEUqKjogRXhlcmNpc2UgY2F1dGlvbiBhcyBhYnVzaW5nIHRoaXMgY2FuIHRheCB5b3UgaW4gdGVybXMgb2ZcbiAgICogPiBvcHRpbWl6YXRpb25zLlxuICAgKiA+XG4gICAqID4gSURzIGVuYWJsZSBvcHRpbWl6YXRpb25zIHRocm91Z2ggdGhlIGJyaWRnZSBhbmQgbWVtb3J5IGluIGdlbmVyYWwuIFJlZmVycmluZ1xuICAgKiA+IHRvIHN0eWxlIG9iamVjdHMgZGlyZWN0bHkgd2lsbCBkZXByaXZlIHlvdSBvZiB0aGVzZSBvcHRpbWl6YXRpb25zLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiBgYGBcbiAgICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgKiAgIGxpc3RJdGVtOiB7XG4gICAqICAgICBmbGV4OiAxLFxuICAgKiAgICAgZm9udFNpemU6IDE2LFxuICAgKiAgICAgY29sb3I6ICd3aGl0ZSdcbiAgICogICB9LFxuICAgKiAgIHNlbGVjdGVkTGlzdEl0ZW06IHtcbiAgICogICAgIGNvbG9yOiAnZ3JlZW4nXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICpcbiAgICogU3R5bGVTaGVldC5mbGF0dGVuKFtzdHlsZXMubGlzdEl0ZW0sIHN0eWxlcy5zZWxlY3RlZExpc3RJdGVtXSlcbiAgICogLy8gcmV0dXJucyB7IGZsZXg6IDEsIGZvbnRTaXplOiAxNiwgY29sb3I6ICdncmVlbicgfVxuICAgKiBgYGBcbiAgICogQWx0ZXJuYXRpdmUgdXNlOlxuICAgKiBgYGBcbiAgICogU3R5bGVTaGVldC5mbGF0dGVuKHN0eWxlcy5saXN0SXRlbSk7XG4gICAqIC8vIHJldHVybiB7IGZsZXg6IDEsIGZvbnRTaXplOiAxNiwgY29sb3I6ICd3aGl0ZScgfVxuICAgKiAvLyBTaW1wbHkgc3R5bGVzLmxpc3RJdGVtIHdvdWxkIHJldHVybiBpdHMgSUQgKG51bWJlcilcbiAgICogYGBgXG4gICAqIFRoaXMgbWV0aG9kIGludGVybmFsbHkgdXNlcyBgU3R5bGVTaGVldFJlZ2lzdHJ5LmdldFN0eWxlQnlJRChzdHlsZSlgXG4gICAqIHRvIHJlc29sdmUgc3R5bGUgb2JqZWN0cyByZXByZXNlbnRlZCBieSBJRHMuIFRodXMsIGFuIGFycmF5IG9mIHN0eWxlXG4gICAqIG9iamVjdHMgKGluc3RhbmNlcyBvZiBTdHlsZVNoZWV0LmNyZWF0ZSksIGFyZSBpbmRpdmlkdWFsbHkgcmVzb2x2ZWQgdG8sXG4gICAqIHRoZWlyIHJlc3BlY3RpdmUgb2JqZWN0cywgbWVyZ2VkIGFzIG9uZSBhbmQgdGhlbiByZXR1cm5lZC4gVGhpcyBhbHNvIGV4cGxhaW5zXG4gICAqIHRoZSBhbHRlcm5hdGl2ZSB1c2UuXG4gICAqL1xuICBmbGF0dGVuLFxuXG4gIC8qKlxuICAgKiBXQVJOSU5HOiBFWFBFUklNRU5UQUwuIEJyZWFraW5nIGNoYW5nZXMgd2lsbCBwcm9iYWJseSBoYXBwZW4gYSBsb3QgYW5kIHdpbGxcbiAgICogbm90IGJlIHJlbGlhYmx5IGFubm91bmNlZC4gVGhlIHdob2xlIHRoaW5nIG1pZ2h0IGJlIGRlbGV0ZWQsIHdobyBrbm93cz8gVXNlXG4gICAqIGF0IHlvdXIgb3duIHJpc2suXG4gICAqXG4gICAqIFNldHMgYSBmdW5jdGlvbiB0byB1c2UgdG8gcHJlLXByb2Nlc3MgYSBzdHlsZSBwcm9wZXJ0eSB2YWx1ZS4gVGhpcyBpcyB1c2VkXG4gICAqIGludGVybmFsbHkgdG8gcHJvY2VzcyBjb2xvciBhbmQgdHJhbnNmb3JtIHZhbHVlcy4gWW91IHNob3VsZCBub3QgdXNlIHRoaXNcbiAgICogdW5sZXNzIHlvdSByZWFsbHkga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcgYW5kIGhhdmUgZXhoYXVzdGVkIG90aGVyIG9wdGlvbnMuXG4gICAqL1xuICBzZXRTdHlsZUF0dHJpYnV0ZVByZXByb2Nlc3NvcihcbiAgICBwcm9wZXJ0eTogc3RyaW5nLFxuICAgIHByb2Nlc3M6IChuZXh0UHJvcDogbWl4ZWQpID0+IG1peGVkLFxuICApIHtcbiAgICBsZXQgdmFsdWU7XG5cbiAgICBpZiAoUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXNbcHJvcGVydHldID09PSB0cnVlKSB7XG4gICAgICB2YWx1ZSA9IHtwcm9jZXNzfTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBSZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlc1twcm9wZXJ0eV0gPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWx1ZSA9IHsuLi5SZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlc1twcm9wZXJ0eV0sIHByb2Nlc3N9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGAke3Byb3BlcnR5fSBpcyBub3QgYSB2YWxpZCBzdHlsZSBhdHRyaWJ1dGVgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX19ERVZfXyAmJiB0eXBlb2YgdmFsdWUucHJvY2VzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKGBPdmVyd3JpdGluZyAke3Byb3BlcnR5fSBzdHlsZSBhdHRyaWJ1dGUgcHJlcHJvY2Vzc29yYCk7XG4gICAgfVxuXG4gICAgUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXNbcHJvcGVydHldID0gdmFsdWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBTdHlsZVNoZWV0IHN0eWxlIHJlZmVyZW5jZSBmcm9tIHRoZSBnaXZlbiBvYmplY3QuXG4gICAqL1xuICBjcmVhdGU8K1M6IF9fX19TdHlsZXNfSW50ZXJuYWw+KG9iajogUyk6ICRSZWFkT25seTxTPiB7XG4gICAgLy8gVE9ETzogVGhpcyBzaG91bGQgcmV0dXJuIFMgYXMgdGhlIHJldHVybiB0eXBlLiBCdXQgZmlyc3QsXG4gICAgLy8gd2UgbmVlZCB0byBjb2RlbW9kIGFsbCB0aGUgY2FsbHNpdGVzIHRoYXQgYXJlIHR5cGluZyB0aGlzXG4gICAgLy8gcmV0dXJuIHZhbHVlIGFzIGEgbnVtYmVyIChldmVuIHRob3VnaCBpdCB3YXMgb3BhcXVlKS5cbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmpba2V5XSkge1xuICAgICAgICAgIE9iamVjdC5mcmVlemUob2JqW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFVQTs7Ozs7O0FBRUEsSUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMseUJBQUQsQ0FBMUI7O0FBQ0EsSUFBTUMsMEJBQTBCLEdBQUdELE9BQU8sQ0FBQywrQ0FBRCxDQUExQzs7QUFFQSxJQUFNRSxPQUFPLEdBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUF2Qjs7QUFxSkEsSUFBSUcsYUFBcUIsR0FBR0osVUFBVSxDQUFDSyxtQkFBWCxDQUErQixHQUEvQixDQUE1Qjs7QUFDQSxJQUFJRCxhQUFhLEtBQUssQ0FBdEIsRUFBeUI7RUFDdkJBLGFBQWEsR0FBRyxJQUFJSixVQUFVLENBQUNNLEdBQVgsRUFBcEI7QUFDRDs7QUFFRCxJQUFNQyxZQUFZLEdBQUc7RUFDbkJDLFFBQVEsRUFBRSxVQURTO0VBRW5CQyxJQUFJLEVBQUUsQ0FGYTtFQUduQkMsS0FBSyxFQUFFLENBSFk7RUFJbkJDLEdBQUcsRUFBRSxDQUpjO0VBS25CQyxNQUFNLEVBQUU7QUFMVyxDQUFyQjs7QUFPQSxJQUFJQyxPQUFKLEVBQWE7RUFDWEMsTUFBTSxDQUFDQyxNQUFQLENBQWNSLFlBQWQ7QUFDRDs7QUE4Q0RTLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQW9CZmIsYUFBYSxFQUFiQSxhQXBCZTtFQTJCZkcsWUFBWSxFQUFHQSxZQTNCQTtFQXlDZlcsa0JBQWtCLEVBQUVYLFlBekNMO0VBaURmWSxPQWpEZSxtQkFrRGJDLE1BbERhLEVBbURiQyxNQW5EYSxFQW9EVztJQUN4QixJQUFJRCxNQUFNLElBQUksSUFBVixJQUFrQkMsTUFBTSxJQUFJLElBQWhDLEVBQXNDO01BQ3BDLE9BQVEsQ0FBQ0QsTUFBRCxFQUFTQyxNQUFULENBQVI7SUFDRCxDQUZELE1BRU87TUFDTCxPQUFPRCxNQUFNLElBQUksSUFBVixHQUFpQkEsTUFBakIsR0FBMEJDLE1BQWpDO0lBQ0Q7RUFDRixDQTFEYztFQW1HZmxCLE9BQU8sRUFBUEEsT0FuR2U7RUE4R2ZtQiw2QkE5R2UseUNBK0diQyxRQS9HYSxFQWdIYkMsT0FoSGEsRUFpSGI7SUFDQSxJQUFJQyxLQUFKOztJQUVBLElBQUl2QiwwQkFBMEIsQ0FBQ3FCLFFBQUQsQ0FBMUIsS0FBeUMsSUFBN0MsRUFBbUQ7TUFDakRFLEtBQUssR0FBRztRQUFDRCxPQUFPLEVBQVBBO01BQUQsQ0FBUjtJQUNELENBRkQsTUFFTyxJQUFJLE9BQU90QiwwQkFBMEIsQ0FBQ3FCLFFBQUQsQ0FBakMsS0FBZ0QsUUFBcEQsRUFBOEQ7TUFDbkVFLEtBQUssOEJBQU92QiwwQkFBMEIsQ0FBQ3FCLFFBQUQsQ0FBakM7UUFBNkNDLE9BQU8sRUFBUEE7TUFBN0MsRUFBTDtJQUNELENBRk0sTUFFQTtNQUNMRSxPQUFPLENBQUNDLEtBQVIsQ0FBaUJKLFFBQWpCO01BQ0E7SUFDRDs7SUFFRCxJQUFJVixPQUFPLElBQUksT0FBT1ksS0FBSyxDQUFDRCxPQUFiLEtBQXlCLFVBQXhDLEVBQW9EO01BQ2xERSxPQUFPLENBQUNFLElBQVIsa0JBQTRCTCxRQUE1QjtJQUNEOztJQUVEckIsMEJBQTBCLENBQUNxQixRQUFELENBQTFCLEdBQXVDRSxLQUF2QztFQUNELENBbEljO0VBdUlmSSxNQXZJZSxrQkF1SWlCQyxHQXZJakIsRUF1SXVDO0lBSXBELElBQUlqQixPQUFKLEVBQWE7TUFDWCxLQUFLLElBQU1rQixJQUFYLElBQWtCRCxHQUFsQixFQUF1QjtRQUNyQixJQUFJQSxHQUFHLENBQUNDLElBQUQsQ0FBUCxFQUFjO1VBQ1pqQixNQUFNLENBQUNDLE1BQVAsQ0FBY2UsR0FBRyxDQUFDQyxJQUFELENBQWpCO1FBQ0Q7TUFDRjtJQUNGOztJQUNELE9BQU9ELEdBQVA7RUFDRDtBQW5KYyxDQUFqQiJ9
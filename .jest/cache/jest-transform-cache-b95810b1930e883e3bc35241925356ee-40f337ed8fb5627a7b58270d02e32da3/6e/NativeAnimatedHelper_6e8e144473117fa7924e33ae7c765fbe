542c51b20ca2459f5278d4065c596aca
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _NativeAnimatedModule = _interopRequireDefault(require("./NativeAnimatedModule"));

var _NativeAnimatedTurboModule = _interopRequireDefault(require("./NativeAnimatedTurboModule"));

var _NativeEventEmitter = _interopRequireDefault(require("../EventEmitter/NativeEventEmitter"));

var _Platform = _interopRequireDefault(require("../Utilities/Platform"));

var _invariant = _interopRequireDefault(require("invariant"));

var NativeAnimatedModule = _Platform.default.OS === 'ios' && global.RN$Bridgeless === true ? _NativeAnimatedTurboModule.default : _NativeAnimatedModule.default;
var __nativeAnimatedNodeTagCount = 1;
var __nativeAnimationIdCount = 1;
var nativeEventEmitter;
var waitingForQueuedOperations = new Set();
var queueOperations = false;
var queue = [];
var API = {
  getValue: function getValue(tag, saveValueCallback) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      NativeAnimatedModule.getValue(tag, saveValueCallback);
    });
  },
  setWaitingForIdentifier: function setWaitingForIdentifier(id) {
    waitingForQueuedOperations.add(id);
    queueOperations = true;
  },
  unsetWaitingForIdentifier: function unsetWaitingForIdentifier(id) {
    waitingForQueuedOperations.delete(id);

    if (waitingForQueuedOperations.size === 0) {
      queueOperations = false;
      API.disableQueue();
    }
  },
  disableQueue: function disableQueue() {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');

    if (_Platform.default.OS === 'android') {
      NativeAnimatedModule.startOperationBatch();
    }

    for (var q = 0, l = queue.length; q < l; q++) {
      queue[q]();
    }

    queue.length = 0;

    if (_Platform.default.OS === 'android') {
      NativeAnimatedModule.finishOperationBatch();
    }
  },
  queueOperation: function queueOperation(fn) {
    if (queueOperations) {
      queue.push(fn);
    } else {
      fn();
    }
  },
  createAnimatedNode: function createAnimatedNode(tag, config) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.createAnimatedNode(tag, config);
    });
  },
  startListeningToAnimatedNodeValue: function startListeningToAnimatedNodeValue(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.startListeningToAnimatedNodeValue(tag);
    });
  },
  stopListeningToAnimatedNodeValue: function stopListeningToAnimatedNodeValue(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.stopListeningToAnimatedNodeValue(tag);
    });
  },
  connectAnimatedNodes: function connectAnimatedNodes(parentTag, childTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.connectAnimatedNodes(parentTag, childTag);
    });
  },
  disconnectAnimatedNodes: function disconnectAnimatedNodes(parentTag, childTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.disconnectAnimatedNodes(parentTag, childTag);
    });
  },
  startAnimatingNode: function startAnimatingNode(animationId, nodeTag, config, endCallback) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.startAnimatingNode(animationId, nodeTag, config, endCallback);
    });
  },
  stopAnimation: function stopAnimation(animationId) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.stopAnimation(animationId);
    });
  },
  setAnimatedNodeValue: function setAnimatedNodeValue(nodeTag, value) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.setAnimatedNodeValue(nodeTag, value);
    });
  },
  setAnimatedNodeOffset: function setAnimatedNodeOffset(nodeTag, offset) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.setAnimatedNodeOffset(nodeTag, offset);
    });
  },
  flattenAnimatedNodeOffset: function flattenAnimatedNodeOffset(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.flattenAnimatedNodeOffset(nodeTag);
    });
  },
  extractAnimatedNodeOffset: function extractAnimatedNodeOffset(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.extractAnimatedNodeOffset(nodeTag);
    });
  },
  connectAnimatedNodeToView: function connectAnimatedNodeToView(nodeTag, viewTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.connectAnimatedNodeToView(nodeTag, viewTag);
    });
  },
  disconnectAnimatedNodeFromView: function disconnectAnimatedNodeFromView(nodeTag, viewTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.disconnectAnimatedNodeFromView(nodeTag, viewTag);
    });
  },
  restoreDefaultValues: function restoreDefaultValues(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');

    if (NativeAnimatedModule.restoreDefaultValues != null) {
      API.queueOperation(function () {
        return NativeAnimatedModule.restoreDefaultValues(nodeTag);
      });
    }
  },
  dropAnimatedNode: function dropAnimatedNode(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.dropAnimatedNode(tag);
    });
  },
  addAnimatedEventToView: function addAnimatedEventToView(viewTag, eventName, eventMapping) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.addAnimatedEventToView(viewTag, eventName, eventMapping);
    });
  },
  removeAnimatedEventFromView: function removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag);
    });
  }
};
var SUPPORTED_STYLES = {
  opacity: true,
  transform: true,
  borderRadius: true,
  borderBottomEndRadius: true,
  borderBottomLeftRadius: true,
  borderBottomRightRadius: true,
  borderBottomStartRadius: true,
  borderTopEndRadius: true,
  borderTopLeftRadius: true,
  borderTopRightRadius: true,
  borderTopStartRadius: true,
  elevation: true,
  zIndex: true,
  shadowOpacity: true,
  shadowRadius: true,
  scaleX: true,
  scaleY: true,
  translateX: true,
  translateY: true
};
var SUPPORTED_TRANSFORMS = {
  translateX: true,
  translateY: true,
  scale: true,
  scaleX: true,
  scaleY: true,
  rotate: true,
  rotateX: true,
  rotateY: true,
  rotateZ: true,
  perspective: true
};
var SUPPORTED_INTERPOLATION_PARAMS = {
  inputRange: true,
  outputRange: true,
  extrapolate: true,
  extrapolateRight: true,
  extrapolateLeft: true
};

function addWhitelistedStyleProp(prop) {
  SUPPORTED_STYLES[prop] = true;
}

function addWhitelistedTransformProp(prop) {
  SUPPORTED_TRANSFORMS[prop] = true;
}

function addWhitelistedInterpolationParam(param) {
  SUPPORTED_INTERPOLATION_PARAMS[param] = true;
}

function validateTransform(configs) {
  configs.forEach(function (config) {
    if (!SUPPORTED_TRANSFORMS.hasOwnProperty(config.property)) {
      throw new Error("Property '" + config.property + "' is not supported by native animated module");
    }
  });
}

function validateStyles(styles) {
  for (var _key in styles) {
    if (!SUPPORTED_STYLES.hasOwnProperty(_key)) {
      throw new Error("Style property '" + _key + "' is not supported by native animated module");
    }
  }
}

function validateInterpolation(config) {
  for (var _key2 in config) {
    if (!SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(_key2)) {
      throw new Error("Interpolation property '" + _key2 + "' is not supported by native animated module");
    }
  }
}

function generateNewNodeTag() {
  return __nativeAnimatedNodeTagCount++;
}

function generateNewAnimationId() {
  return __nativeAnimationIdCount++;
}

function assertNativeAnimatedModule() {
  (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
}

var _warnedMissingNativeAnimated = false;

function shouldUseNativeDriver(config) {
  if (config.useNativeDriver == null) {
    console.warn('Animated: `useNativeDriver` was not specified. This is a required ' + 'option and must be explicitly set to `true` or `false`');
  }

  if (config.useNativeDriver === true && !NativeAnimatedModule) {
    if (!_warnedMissingNativeAnimated) {
      console.warn('Animated: `useNativeDriver` is not supported because the native ' + 'animated module is missing. Falling back to JS-based animation. To ' + 'resolve this, add `RCTAnimation` module to this app, or remove ' + '`useNativeDriver`. ' + 'Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md');
      _warnedMissingNativeAnimated = true;
    }

    return false;
  }

  return config.useNativeDriver || false;
}

function transformDataType(value) {
  if (typeof value !== 'string') {
    return value;
  }

  if (/deg$/.test(value)) {
    var degrees = parseFloat(value) || 0;
    var radians = degrees * Math.PI / 180.0;
    return radians;
  } else {
    return value;
  }
}

module.exports = {
  API: API,
  addWhitelistedStyleProp: addWhitelistedStyleProp,
  addWhitelistedTransformProp: addWhitelistedTransformProp,
  addWhitelistedInterpolationParam: addWhitelistedInterpolationParam,
  validateStyles: validateStyles,
  validateTransform: validateTransform,
  validateInterpolation: validateInterpolation,
  generateNewNodeTag: generateNewNodeTag,
  generateNewAnimationId: generateNewAnimationId,
  assertNativeAnimatedModule: assertNativeAnimatedModule,
  shouldUseNativeDriver: shouldUseNativeDriver,
  transformDataType: transformDataType,

  get nativeEventEmitter() {
    if (!nativeEventEmitter) {
      nativeEventEmitter = new _NativeEventEmitter.default(_Platform.default.OS !== 'ios' ? null : NativeAnimatedModule);
    }

    return nativeEventEmitter;
  }

};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOYXRpdmVBbmltYXRlZE1vZHVsZSIsIlBsYXRmb3JtIiwiT1MiLCJnbG9iYWwiLCJSTiRCcmlkZ2VsZXNzIiwiTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZSIsIk5hdGl2ZUFuaW1hdGVkTm9uVHVyYm9Nb2R1bGUiLCJfX25hdGl2ZUFuaW1hdGVkTm9kZVRhZ0NvdW50IiwiX19uYXRpdmVBbmltYXRpb25JZENvdW50IiwibmF0aXZlRXZlbnRFbWl0dGVyIiwid2FpdGluZ0ZvclF1ZXVlZE9wZXJhdGlvbnMiLCJTZXQiLCJxdWV1ZU9wZXJhdGlvbnMiLCJxdWV1ZSIsIkFQSSIsImdldFZhbHVlIiwidGFnIiwic2F2ZVZhbHVlQ2FsbGJhY2siLCJpbnZhcmlhbnQiLCJxdWV1ZU9wZXJhdGlvbiIsInNldFdhaXRpbmdGb3JJZGVudGlmaWVyIiwiaWQiLCJhZGQiLCJ1bnNldFdhaXRpbmdGb3JJZGVudGlmaWVyIiwiZGVsZXRlIiwic2l6ZSIsImRpc2FibGVRdWV1ZSIsInN0YXJ0T3BlcmF0aW9uQmF0Y2giLCJxIiwibCIsImxlbmd0aCIsImZpbmlzaE9wZXJhdGlvbkJhdGNoIiwiZm4iLCJwdXNoIiwiY3JlYXRlQW5pbWF0ZWROb2RlIiwiY29uZmlnIiwic3RhcnRMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlIiwic3RvcExpc3RlbmluZ1RvQW5pbWF0ZWROb2RlVmFsdWUiLCJjb25uZWN0QW5pbWF0ZWROb2RlcyIsInBhcmVudFRhZyIsImNoaWxkVGFnIiwiZGlzY29ubmVjdEFuaW1hdGVkTm9kZXMiLCJzdGFydEFuaW1hdGluZ05vZGUiLCJhbmltYXRpb25JZCIsIm5vZGVUYWciLCJlbmRDYWxsYmFjayIsInN0b3BBbmltYXRpb24iLCJzZXRBbmltYXRlZE5vZGVWYWx1ZSIsInZhbHVlIiwic2V0QW5pbWF0ZWROb2RlT2Zmc2V0Iiwib2Zmc2V0IiwiZmxhdHRlbkFuaW1hdGVkTm9kZU9mZnNldCIsImV4dHJhY3RBbmltYXRlZE5vZGVPZmZzZXQiLCJjb25uZWN0QW5pbWF0ZWROb2RlVG9WaWV3Iiwidmlld1RhZyIsImRpc2Nvbm5lY3RBbmltYXRlZE5vZGVGcm9tVmlldyIsInJlc3RvcmVEZWZhdWx0VmFsdWVzIiwiZHJvcEFuaW1hdGVkTm9kZSIsImFkZEFuaW1hdGVkRXZlbnRUb1ZpZXciLCJldmVudE5hbWUiLCJldmVudE1hcHBpbmciLCJyZW1vdmVBbmltYXRlZEV2ZW50RnJvbVZpZXciLCJhbmltYXRlZE5vZGVUYWciLCJTVVBQT1JURURfU1RZTEVTIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsImJvcmRlclJhZGl1cyIsImJvcmRlckJvdHRvbUVuZFJhZGl1cyIsImJvcmRlckJvdHRvbUxlZnRSYWRpdXMiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsImJvcmRlckJvdHRvbVN0YXJ0UmFkaXVzIiwiYm9yZGVyVG9wRW5kUmFkaXVzIiwiYm9yZGVyVG9wTGVmdFJhZGl1cyIsImJvcmRlclRvcFJpZ2h0UmFkaXVzIiwiYm9yZGVyVG9wU3RhcnRSYWRpdXMiLCJlbGV2YXRpb24iLCJ6SW5kZXgiLCJzaGFkb3dPcGFjaXR5Iiwic2hhZG93UmFkaXVzIiwic2NhbGVYIiwic2NhbGVZIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJTVVBQT1JURURfVFJBTlNGT1JNUyIsInNjYWxlIiwicm90YXRlIiwicm90YXRlWCIsInJvdGF0ZVkiLCJyb3RhdGVaIiwicGVyc3BlY3RpdmUiLCJTVVBQT1JURURfSU5URVJQT0xBVElPTl9QQVJBTVMiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJleHRyYXBvbGF0ZSIsImV4dHJhcG9sYXRlUmlnaHQiLCJleHRyYXBvbGF0ZUxlZnQiLCJhZGRXaGl0ZWxpc3RlZFN0eWxlUHJvcCIsInByb3AiLCJhZGRXaGl0ZWxpc3RlZFRyYW5zZm9ybVByb3AiLCJhZGRXaGl0ZWxpc3RlZEludGVycG9sYXRpb25QYXJhbSIsInBhcmFtIiwidmFsaWRhdGVUcmFuc2Zvcm0iLCJjb25maWdzIiwiZm9yRWFjaCIsImhhc093blByb3BlcnR5IiwicHJvcGVydHkiLCJFcnJvciIsInZhbGlkYXRlU3R5bGVzIiwic3R5bGVzIiwia2V5IiwidmFsaWRhdGVJbnRlcnBvbGF0aW9uIiwiZ2VuZXJhdGVOZXdOb2RlVGFnIiwiZ2VuZXJhdGVOZXdBbmltYXRpb25JZCIsImFzc2VydE5hdGl2ZUFuaW1hdGVkTW9kdWxlIiwiX3dhcm5lZE1pc3NpbmdOYXRpdmVBbmltYXRlZCIsInNob3VsZFVzZU5hdGl2ZURyaXZlciIsInVzZU5hdGl2ZURyaXZlciIsImNvbnNvbGUiLCJ3YXJuIiwidHJhbnNmb3JtRGF0YVR5cGUiLCJ0ZXN0IiwiZGVncmVlcyIsInBhcnNlRmxvYXQiLCJyYWRpYW5zIiwiTWF0aCIsIlBJIiwibW9kdWxlIiwiZXhwb3J0cyIsIk5hdGl2ZUV2ZW50RW1pdHRlciJdLCJzb3VyY2VzIjpbIk5hdGl2ZUFuaW1hdGVkSGVscGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgTmF0aXZlQW5pbWF0ZWROb25UdXJib01vZHVsZSBmcm9tICcuL05hdGl2ZUFuaW1hdGVkTW9kdWxlJztcbmltcG9ydCBOYXRpdmVBbmltYXRlZFR1cmJvTW9kdWxlIGZyb20gJy4vTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZSc7XG5pbXBvcnQgTmF0aXZlRXZlbnRFbWl0dGVyIGZyb20gJy4uL0V2ZW50RW1pdHRlci9OYXRpdmVFdmVudEVtaXR0ZXInO1xuaW1wb3J0IFBsYXRmb3JtIGZyb20gJy4uL1V0aWxpdGllcy9QbGF0Zm9ybSc7XG5pbXBvcnQgdHlwZSB7RXZlbnRDb25maWd9IGZyb20gJy4vQW5pbWF0ZWRFdmVudCc7XG5pbXBvcnQgdHlwZSB7XG4gIEV2ZW50TWFwcGluZyxcbiAgQW5pbWF0ZWROb2RlQ29uZmlnLFxuICBBbmltYXRpbmdOb2RlQ29uZmlnLFxufSBmcm9tICcuL05hdGl2ZUFuaW1hdGVkTW9kdWxlJztcbmltcG9ydCB0eXBlIHtBbmltYXRpb25Db25maWcsIEVuZENhbGxiYWNrfSBmcm9tICcuL2FuaW1hdGlvbnMvQW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtJbnRlcnBvbGF0aW9uQ29uZmlnVHlwZX0gZnJvbSAnLi9ub2Rlcy9BbmltYXRlZEludGVycG9sYXRpb24nO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuXG4vLyBUT0RPIFQ2OTQzNzE1MiBAcGV0ZXRoZWhlYXQgLSBEZWxldGUgdGhpcyBmb3JrIHdoZW4gRmFicmljIHNoaXBzIHRvIDEwMCUuXG5jb25zdCBOYXRpdmVBbmltYXRlZE1vZHVsZSA9XG4gIFBsYXRmb3JtLk9TID09PSAnaW9zJyAmJiBnbG9iYWwuUk4kQnJpZGdlbGVzcyA9PT0gdHJ1ZVxuICAgID8gTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZVxuICAgIDogTmF0aXZlQW5pbWF0ZWROb25UdXJib01vZHVsZTtcblxubGV0IF9fbmF0aXZlQW5pbWF0ZWROb2RlVGFnQ291bnQgPSAxOyAvKiB1c2VkIGZvciBhbmltYXRlZCBub2RlcyAqL1xubGV0IF9fbmF0aXZlQW5pbWF0aW9uSWRDb3VudCA9IDE7IC8qIHVzZWQgZm9yIHN0YXJ0ZWQgYW5pbWF0aW9ucyAqL1xuXG5sZXQgbmF0aXZlRXZlbnRFbWl0dGVyO1xuXG5sZXQgd2FpdGluZ0ZvclF1ZXVlZE9wZXJhdGlvbnMgPSBuZXcgU2V0KCk7XG5sZXQgcXVldWVPcGVyYXRpb25zID0gZmFsc2U7XG5sZXQgcXVldWU6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG5cbi8qKlxuICogU2ltcGxlIHdyYXBwZXJzIGFyb3VuZCBOYXRpdmVBbmltYXRlZE1vZHVsZSB0byBwcm92aWRlIGZsb3cgYW5kIGF1dG9jb21wbGV0ZSBzdXBwb3J0IGZvclxuICogdGhlIG5hdGl2ZSBtb2R1bGUgbWV0aG9kc1xuICovXG5jb25zdCBBUEkgPSB7XG4gIGdldFZhbHVlOiBmdW5jdGlvbiAoXG4gICAgdGFnOiBudW1iZXIsXG4gICAgc2F2ZVZhbHVlQ2FsbGJhY2s6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT4ge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZ2V0VmFsdWUodGFnLCBzYXZlVmFsdWVDYWxsYmFjayk7XG4gICAgfSk7XG4gIH0sXG4gIHNldFdhaXRpbmdGb3JJZGVudGlmaWVyOiBmdW5jdGlvbiAoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHdhaXRpbmdGb3JRdWV1ZWRPcGVyYXRpb25zLmFkZChpZCk7XG4gICAgcXVldWVPcGVyYXRpb25zID0gdHJ1ZTtcbiAgfSxcbiAgdW5zZXRXYWl0aW5nRm9ySWRlbnRpZmllcjogZnVuY3Rpb24gKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB3YWl0aW5nRm9yUXVldWVkT3BlcmF0aW9ucy5kZWxldGUoaWQpO1xuXG4gICAgaWYgKHdhaXRpbmdGb3JRdWV1ZWRPcGVyYXRpb25zLnNpemUgPT09IDApIHtcbiAgICAgIHF1ZXVlT3BlcmF0aW9ucyA9IGZhbHNlO1xuICAgICAgQVBJLmRpc2FibGVRdWV1ZSgpO1xuICAgIH1cbiAgfSxcbiAgZGlzYWJsZVF1ZXVlOiBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG5cbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc3RhcnRPcGVyYXRpb25CYXRjaCgpO1xuICAgIH1cbiAgICBmb3IgKGxldCBxID0gMCwgbCA9IHF1ZXVlLmxlbmd0aDsgcSA8IGw7IHErKykge1xuICAgICAgcXVldWVbcV0oKTtcbiAgICB9XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZmluaXNoT3BlcmF0aW9uQmF0Y2goKTtcbiAgICB9XG4gIH0sXG4gIHF1ZXVlT3BlcmF0aW9uOiAoZm46ICgpID0+IHZvaWQpOiB2b2lkID0+IHtcbiAgICBpZiAocXVldWVPcGVyYXRpb25zKSB7XG4gICAgICBxdWV1ZS5wdXNoKGZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm4oKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZUFuaW1hdGVkTm9kZTogZnVuY3Rpb24gKHRhZzogbnVtYmVyLCBjb25maWc6IEFuaW1hdGVkTm9kZUNvbmZpZyk6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuY3JlYXRlQW5pbWF0ZWROb2RlKHRhZywgY29uZmlnKSxcbiAgICApO1xuICB9LFxuICBzdGFydExpc3RlbmluZ1RvQW5pbWF0ZWROb2RlVmFsdWU6IGZ1bmN0aW9uICh0YWc6IG51bWJlcikge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc3RhcnRMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlKHRhZyksXG4gICAgKTtcbiAgfSxcbiAgc3RvcExpc3RlbmluZ1RvQW5pbWF0ZWROb2RlVmFsdWU6IGZ1bmN0aW9uICh0YWc6IG51bWJlcikge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc3RvcExpc3RlbmluZ1RvQW5pbWF0ZWROb2RlVmFsdWUodGFnKSxcbiAgICApO1xuICB9LFxuICBjb25uZWN0QW5pbWF0ZWROb2RlczogZnVuY3Rpb24gKHBhcmVudFRhZzogbnVtYmVyLCBjaGlsZFRhZzogbnVtYmVyKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKCgpID0+XG4gICAgICBOYXRpdmVBbmltYXRlZE1vZHVsZS5jb25uZWN0QW5pbWF0ZWROb2RlcyhwYXJlbnRUYWcsIGNoaWxkVGFnKSxcbiAgICApO1xuICB9LFxuICBkaXNjb25uZWN0QW5pbWF0ZWROb2RlczogZnVuY3Rpb24gKFxuICAgIHBhcmVudFRhZzogbnVtYmVyLFxuICAgIGNoaWxkVGFnOiBudW1iZXIsXG4gICk6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZGlzY29ubmVjdEFuaW1hdGVkTm9kZXMocGFyZW50VGFnLCBjaGlsZFRhZyksXG4gICAgKTtcbiAgfSxcbiAgc3RhcnRBbmltYXRpbmdOb2RlOiBmdW5jdGlvbiAoXG4gICAgYW5pbWF0aW9uSWQ6IG51bWJlcixcbiAgICBub2RlVGFnOiBudW1iZXIsXG4gICAgY29uZmlnOiBBbmltYXRpbmdOb2RlQ29uZmlnLFxuICAgIGVuZENhbGxiYWNrOiBFbmRDYWxsYmFjayxcbiAgKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKCgpID0+XG4gICAgICBOYXRpdmVBbmltYXRlZE1vZHVsZS5zdGFydEFuaW1hdGluZ05vZGUoXG4gICAgICAgIGFuaW1hdGlvbklkLFxuICAgICAgICBub2RlVGFnLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIGVuZENhbGxiYWNrLFxuICAgICAgKSxcbiAgICApO1xuICB9LFxuICBzdG9wQW5pbWF0aW9uOiBmdW5jdGlvbiAoYW5pbWF0aW9uSWQ6IG51bWJlcikge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PiBOYXRpdmVBbmltYXRlZE1vZHVsZS5zdG9wQW5pbWF0aW9uKGFuaW1hdGlvbklkKSk7XG4gIH0sXG4gIHNldEFuaW1hdGVkTm9kZVZhbHVlOiBmdW5jdGlvbiAobm9kZVRhZzogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKCgpID0+XG4gICAgICBOYXRpdmVBbmltYXRlZE1vZHVsZS5zZXRBbmltYXRlZE5vZGVWYWx1ZShub2RlVGFnLCB2YWx1ZSksXG4gICAgKTtcbiAgfSxcbiAgc2V0QW5pbWF0ZWROb2RlT2Zmc2V0OiBmdW5jdGlvbiAobm9kZVRhZzogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcik6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc2V0QW5pbWF0ZWROb2RlT2Zmc2V0KG5vZGVUYWcsIG9mZnNldCksXG4gICAgKTtcbiAgfSxcbiAgZmxhdHRlbkFuaW1hdGVkTm9kZU9mZnNldDogZnVuY3Rpb24gKG5vZGVUYWc6IG51bWJlcik6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZmxhdHRlbkFuaW1hdGVkTm9kZU9mZnNldChub2RlVGFnKSxcbiAgICApO1xuICB9LFxuICBleHRyYWN0QW5pbWF0ZWROb2RlT2Zmc2V0OiBmdW5jdGlvbiAobm9kZVRhZzogbnVtYmVyKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKCgpID0+XG4gICAgICBOYXRpdmVBbmltYXRlZE1vZHVsZS5leHRyYWN0QW5pbWF0ZWROb2RlT2Zmc2V0KG5vZGVUYWcpLFxuICAgICk7XG4gIH0sXG4gIGNvbm5lY3RBbmltYXRlZE5vZGVUb1ZpZXc6IGZ1bmN0aW9uIChub2RlVGFnOiBudW1iZXIsIHZpZXdUYWc6IG51bWJlcik6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuY29ubmVjdEFuaW1hdGVkTm9kZVRvVmlldyhub2RlVGFnLCB2aWV3VGFnKSxcbiAgICApO1xuICB9LFxuICBkaXNjb25uZWN0QW5pbWF0ZWROb2RlRnJvbVZpZXc6IGZ1bmN0aW9uIChcbiAgICBub2RlVGFnOiBudW1iZXIsXG4gICAgdmlld1RhZzogbnVtYmVyLFxuICApOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmRpc2Nvbm5lY3RBbmltYXRlZE5vZGVGcm9tVmlldyhub2RlVGFnLCB2aWV3VGFnKSxcbiAgICApO1xuICB9LFxuICByZXN0b3JlRGVmYXVsdFZhbHVlczogZnVuY3Rpb24gKG5vZGVUYWc6IG51bWJlcik6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIC8vIEJhY2t3YXJkcyBjb21wYXQgd2l0aCBvbGRlciBuYXRpdmUgcnVudGltZXMsIGNhbiBiZSByZW1vdmVkIGxhdGVyLlxuICAgIGlmIChOYXRpdmVBbmltYXRlZE1vZHVsZS5yZXN0b3JlRGVmYXVsdFZhbHVlcyAhPSBudWxsKSB7XG4gICAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUucmVzdG9yZURlZmF1bHRWYWx1ZXMobm9kZVRhZyksXG4gICAgICApO1xuICAgIH1cbiAgfSxcbiAgZHJvcEFuaW1hdGVkTm9kZTogZnVuY3Rpb24gKHRhZzogbnVtYmVyKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKCgpID0+IE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmRyb3BBbmltYXRlZE5vZGUodGFnKSk7XG4gIH0sXG4gIGFkZEFuaW1hdGVkRXZlbnRUb1ZpZXc6IGZ1bmN0aW9uIChcbiAgICB2aWV3VGFnOiBudW1iZXIsXG4gICAgZXZlbnROYW1lOiBzdHJpbmcsXG4gICAgZXZlbnRNYXBwaW5nOiBFdmVudE1hcHBpbmcsXG4gICkge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuYWRkQW5pbWF0ZWRFdmVudFRvVmlldyhcbiAgICAgICAgdmlld1RhZyxcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICBldmVudE1hcHBpbmcsXG4gICAgICApLFxuICAgICk7XG4gIH0sXG4gIHJlbW92ZUFuaW1hdGVkRXZlbnRGcm9tVmlldyhcbiAgICB2aWV3VGFnOiBudW1iZXIsXG4gICAgZXZlbnROYW1lOiBzdHJpbmcsXG4gICAgYW5pbWF0ZWROb2RlVGFnOiBudW1iZXIsXG4gICkge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUucmVtb3ZlQW5pbWF0ZWRFdmVudEZyb21WaWV3KFxuICAgICAgICB2aWV3VGFnLFxuICAgICAgICBldmVudE5hbWUsXG4gICAgICAgIGFuaW1hdGVkTm9kZVRhZyxcbiAgICAgICksXG4gICAgKTtcbiAgfSxcbn07XG5cbi8qKlxuICogU3R5bGVzIGFsbG93ZWQgYnkgdGhlIG5hdGl2ZSBhbmltYXRlZCBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBJbiBnZW5lcmFsIG5hdGl2ZSBhbmltYXRlZCBpbXBsZW1lbnRhdGlvbiBzaG91bGQgc3VwcG9ydCBhbnkgbnVtZXJpYyBwcm9wZXJ0eSB0aGF0IGRvZXNuJ3QgbmVlZFxuICogdG8gYmUgdXBkYXRlZCB0aHJvdWdoIHRoZSBzaGFkb3cgdmlldyBoaWVyYXJjaHkgKGFsbCBub24tbGF5b3V0IHByb3BlcnRpZXMpLlxuICovXG5jb25zdCBTVVBQT1JURURfU1RZTEVTID0ge1xuICBvcGFjaXR5OiB0cnVlLFxuICB0cmFuc2Zvcm06IHRydWUsXG4gIGJvcmRlclJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyQm90dG9tRW5kUmFkaXVzOiB0cnVlLFxuICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiB0cnVlLFxuICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyQm90dG9tU3RhcnRSYWRpdXM6IHRydWUsXG4gIGJvcmRlclRvcEVuZFJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyVG9wTGVmdFJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IHRydWUsXG4gIGJvcmRlclRvcFN0YXJ0UmFkaXVzOiB0cnVlLFxuICBlbGV2YXRpb246IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgLyogaW9zIHN0eWxlcyAqL1xuICBzaGFkb3dPcGFjaXR5OiB0cnVlLFxuICBzaGFkb3dSYWRpdXM6IHRydWUsXG4gIC8qIGxlZ2FjeSBhbmRyb2lkIHRyYW5zZm9ybSBwcm9wZXJ0aWVzICovXG4gIHNjYWxlWDogdHJ1ZSxcbiAgc2NhbGVZOiB0cnVlLFxuICB0cmFuc2xhdGVYOiB0cnVlLFxuICB0cmFuc2xhdGVZOiB0cnVlLFxufTtcblxuY29uc3QgU1VQUE9SVEVEX1RSQU5TRk9STVMgPSB7XG4gIHRyYW5zbGF0ZVg6IHRydWUsXG4gIHRyYW5zbGF0ZVk6IHRydWUsXG4gIHNjYWxlOiB0cnVlLFxuICBzY2FsZVg6IHRydWUsXG4gIHNjYWxlWTogdHJ1ZSxcbiAgcm90YXRlOiB0cnVlLFxuICByb3RhdGVYOiB0cnVlLFxuICByb3RhdGVZOiB0cnVlLFxuICByb3RhdGVaOiB0cnVlLFxuICBwZXJzcGVjdGl2ZTogdHJ1ZSxcbn07XG5cbmNvbnN0IFNVUFBPUlRFRF9JTlRFUlBPTEFUSU9OX1BBUkFNUyA9IHtcbiAgaW5wdXRSYW5nZTogdHJ1ZSxcbiAgb3V0cHV0UmFuZ2U6IHRydWUsXG4gIGV4dHJhcG9sYXRlOiB0cnVlLFxuICBleHRyYXBvbGF0ZVJpZ2h0OiB0cnVlLFxuICBleHRyYXBvbGF0ZUxlZnQ6IHRydWUsXG59O1xuXG5mdW5jdGlvbiBhZGRXaGl0ZWxpc3RlZFN0eWxlUHJvcChwcm9wOiBzdHJpbmcpOiB2b2lkIHtcbiAgU1VQUE9SVEVEX1NUWUxFU1twcm9wXSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGFkZFdoaXRlbGlzdGVkVHJhbnNmb3JtUHJvcChwcm9wOiBzdHJpbmcpOiB2b2lkIHtcbiAgU1VQUE9SVEVEX1RSQU5TRk9STVNbcHJvcF0gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBhZGRXaGl0ZWxpc3RlZEludGVycG9sYXRpb25QYXJhbShwYXJhbTogc3RyaW5nKTogdm9pZCB7XG4gIFNVUFBPUlRFRF9JTlRFUlBPTEFUSU9OX1BBUkFNU1twYXJhbV0gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVRyYW5zZm9ybShcbiAgY29uZmlnczogQXJyYXk8XG4gICAgfCB7XG4gICAgICAgIHR5cGU6ICdhbmltYXRlZCcsXG4gICAgICAgIHByb3BlcnR5OiBzdHJpbmcsXG4gICAgICAgIG5vZGVUYWc6ID9udW1iZXIsXG4gICAgICAgIC4uLlxuICAgICAgfVxuICAgIHwge1xuICAgICAgICB0eXBlOiAnc3RhdGljJyxcbiAgICAgICAgcHJvcGVydHk6IHN0cmluZyxcbiAgICAgICAgdmFsdWU6IG51bWJlciB8IHN0cmluZyxcbiAgICAgICAgLi4uXG4gICAgICB9LFxuICA+LFxuKTogdm9pZCB7XG4gIGNvbmZpZ3MuZm9yRWFjaChjb25maWcgPT4ge1xuICAgIGlmICghU1VQUE9SVEVEX1RSQU5TRk9STVMuaGFzT3duUHJvcGVydHkoY29uZmlnLnByb3BlcnR5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUHJvcGVydHkgJyR7Y29uZmlnLnByb3BlcnR5fScgaXMgbm90IHN1cHBvcnRlZCBieSBuYXRpdmUgYW5pbWF0ZWQgbW9kdWxlYCxcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVTdHlsZXMoc3R5bGVzOiB7W2tleTogc3RyaW5nXTogP251bWJlciwgLi4ufSk6IHZvaWQge1xuICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcbiAgICBpZiAoIVNVUFBPUlRFRF9TVFlMRVMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgU3R5bGUgcHJvcGVydHkgJyR7a2V5fScgaXMgbm90IHN1cHBvcnRlZCBieSBuYXRpdmUgYW5pbWF0ZWQgbW9kdWxlYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlSW50ZXJwb2xhdGlvbihjb25maWc6IEludGVycG9sYXRpb25Db25maWdUeXBlKTogdm9pZCB7XG4gIGZvciAoY29uc3Qga2V5IGluIGNvbmZpZykge1xuICAgIGlmICghU1VQUE9SVEVEX0lOVEVSUE9MQVRJT05fUEFSQU1TLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEludGVycG9sYXRpb24gcHJvcGVydHkgJyR7a2V5fScgaXMgbm90IHN1cHBvcnRlZCBieSBuYXRpdmUgYW5pbWF0ZWQgbW9kdWxlYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTmV3Tm9kZVRhZygpOiBudW1iZXIge1xuICByZXR1cm4gX19uYXRpdmVBbmltYXRlZE5vZGVUYWdDb3VudCsrO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZU5ld0FuaW1hdGlvbklkKCk6IG51bWJlciB7XG4gIHJldHVybiBfX25hdGl2ZUFuaW1hdGlvbklkQ291bnQrKztcbn1cblxuZnVuY3Rpb24gYXNzZXJ0TmF0aXZlQW5pbWF0ZWRNb2R1bGUoKTogdm9pZCB7XG4gIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xufVxuXG5sZXQgX3dhcm5lZE1pc3NpbmdOYXRpdmVBbmltYXRlZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmVEcml2ZXIoXG4gIGNvbmZpZzogey4uLkFuaW1hdGlvbkNvbmZpZywgLi4ufSB8IEV2ZW50Q29uZmlnLFxuKTogYm9vbGVhbiB7XG4gIGlmIChjb25maWcudXNlTmF0aXZlRHJpdmVyID09IG51bGwpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnQW5pbWF0ZWQ6IGB1c2VOYXRpdmVEcml2ZXJgIHdhcyBub3Qgc3BlY2lmaWVkLiBUaGlzIGlzIGEgcmVxdWlyZWQgJyArXG4gICAgICAgICdvcHRpb24gYW5kIG11c3QgYmUgZXhwbGljaXRseSBzZXQgdG8gYHRydWVgIG9yIGBmYWxzZWAnLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29uZmlnLnVzZU5hdGl2ZURyaXZlciA9PT0gdHJ1ZSAmJiAhTmF0aXZlQW5pbWF0ZWRNb2R1bGUpIHtcbiAgICBpZiAoIV93YXJuZWRNaXNzaW5nTmF0aXZlQW5pbWF0ZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ0FuaW1hdGVkOiBgdXNlTmF0aXZlRHJpdmVyYCBpcyBub3Qgc3VwcG9ydGVkIGJlY2F1c2UgdGhlIG5hdGl2ZSAnICtcbiAgICAgICAgICAnYW5pbWF0ZWQgbW9kdWxlIGlzIG1pc3NpbmcuIEZhbGxpbmcgYmFjayB0byBKUy1iYXNlZCBhbmltYXRpb24uIFRvICcgK1xuICAgICAgICAgICdyZXNvbHZlIHRoaXMsIGFkZCBgUkNUQW5pbWF0aW9uYCBtb2R1bGUgdG8gdGhpcyBhcHAsIG9yIHJlbW92ZSAnICtcbiAgICAgICAgICAnYHVzZU5hdGl2ZURyaXZlcmAuICcgK1xuICAgICAgICAgICdNYWtlIHN1cmUgdG8gcnVuIGBidW5kbGUgZXhlYyBwb2QgaW5zdGFsbGAgZmlyc3QuIFJlYWQgbW9yZSBhYm91dCBhdXRvbGlua2luZzogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LW5hdGl2ZS1jb21tdW5pdHkvY2xpL2Jsb2IvbWFzdGVyL2RvY3MvYXV0b2xpbmtpbmcubWQnLFxuICAgICAgKTtcbiAgICAgIF93YXJuZWRNaXNzaW5nTmF0aXZlQW5pbWF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnVzZU5hdGl2ZURyaXZlciB8fCBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YVR5cGUodmFsdWU6IG51bWJlciB8IHN0cmluZyk6IG51bWJlciB8IHN0cmluZyB7XG4gIC8vIENoYW5nZSB0aGUgc3RyaW5nIHR5cGUgdG8gbnVtYmVyIHR5cGUgc28gd2UgY2FuIHJldXNlIHRoZSBzYW1lIGxvZ2ljIGluXG4gIC8vIGlPUyBhbmQgQW5kcm9pZCBwbGF0Zm9ybVxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoL2RlZyQvLnRlc3QodmFsdWUpKSB7XG4gICAgY29uc3QgZGVncmVlcyA9IHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG4gICAgY29uc3QgcmFkaWFucyA9IChkZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMDtcbiAgICByZXR1cm4gcmFkaWFucztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEFQSSxcbiAgYWRkV2hpdGVsaXN0ZWRTdHlsZVByb3AsXG4gIGFkZFdoaXRlbGlzdGVkVHJhbnNmb3JtUHJvcCxcbiAgYWRkV2hpdGVsaXN0ZWRJbnRlcnBvbGF0aW9uUGFyYW0sXG4gIHZhbGlkYXRlU3R5bGVzLFxuICB2YWxpZGF0ZVRyYW5zZm9ybSxcbiAgdmFsaWRhdGVJbnRlcnBvbGF0aW9uLFxuICBnZW5lcmF0ZU5ld05vZGVUYWcsXG4gIGdlbmVyYXRlTmV3QW5pbWF0aW9uSWQsXG4gIGFzc2VydE5hdGl2ZUFuaW1hdGVkTW9kdWxlLFxuICBzaG91bGRVc2VOYXRpdmVEcml2ZXIsXG4gIHRyYW5zZm9ybURhdGFUeXBlLFxuICAvLyAkRmxvd0V4cGVjdGVkRXJyb3JbdW5zYWZlLWdldHRlcnMtc2V0dGVyc10gLSB1bnNhZmUgZ2V0dGVyIGxpbnQgc3VwcHJlc2lvblxuICAvLyAkRmxvd0V4cGVjdGVkRXJyb3JbbWlzc2luZy10eXBlLWFyZ10gLSB1bnNhZmUgZ2V0dGVyIGxpbnQgc3VwcHJlc2lvblxuICBnZXQgbmF0aXZlRXZlbnRFbWl0dGVyKCk6IE5hdGl2ZUV2ZW50RW1pdHRlciB7XG4gICAgaWYgKCFuYXRpdmVFdmVudEVtaXR0ZXIpIHtcbiAgICAgIG5hdGl2ZUV2ZW50RW1pdHRlciA9IG5ldyBOYXRpdmVFdmVudEVtaXR0ZXIoXG4gICAgICAgIC8vIFQ4ODcxNTA2MzogTmF0aXZlRXZlbnRFbWl0dGVyIG9ubHkgdXNlZCB0aGlzIHBhcmFtZXRlciBvbiBpT1MuIE5vdyBpdCB1c2VzIGl0IG9uIGFsbCBwbGF0Zm9ybXMsIHNvIHRoaXMgY29kZSB3YXMgbW9kaWZpZWQgYXV0b21hdGljYWxseSB0byBwcmVzZXJ2ZSBpdHMgYmVoYXZpb3JcbiAgICAgICAgLy8gSWYgeW91IHdhbnQgdG8gdXNlIHRoZSBuYXRpdmUgbW9kdWxlIG9uIG90aGVyIHBsYXRmb3JtcywgcGxlYXNlIHJlbW92ZSB0aGlzIGNvbmRpdGlvbiBhbmQgdGVzdCBpdHMgYmVoYXZpb3JcbiAgICAgICAgUGxhdGZvcm0uT1MgIT09ICdpb3MnID8gbnVsbCA6IE5hdGl2ZUFuaW1hdGVkTW9kdWxlLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hdGl2ZUV2ZW50RW1pdHRlcjtcbiAgfSxcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBVUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBU0E7O0FBR0EsSUFBTUEsb0JBQW9CLEdBQ3hCQyxpQkFBQSxDQUFTQyxFQUFULEtBQWdCLEtBQWhCLElBQXlCQyxNQUFNLENBQUNDLGFBQVAsS0FBeUIsSUFBbEQsR0FDSUMsa0NBREosR0FFSUMsNkJBSE47QUFLQSxJQUFJQyw0QkFBNEIsR0FBRyxDQUFuQztBQUNBLElBQUlDLHdCQUF3QixHQUFHLENBQS9CO0FBRUEsSUFBSUMsa0JBQUo7QUFFQSxJQUFJQywwQkFBMEIsR0FBRyxJQUFJQyxHQUFKLEVBQWpDO0FBQ0EsSUFBSUMsZUFBZSxHQUFHLEtBQXRCO0FBQ0EsSUFBSUMsS0FBd0IsR0FBRyxFQUEvQjtBQU1BLElBQU1DLEdBQUcsR0FBRztFQUNWQyxRQUFRLEVBQUUsa0JBQ1JDLEdBRFEsRUFFUkMsaUJBRlEsRUFHRjtJQUNOLElBQUFDLGtCQUFBLEVBQVVsQixvQkFBVixFQUFnQyx5Q0FBaEM7SUFDQWMsR0FBRyxDQUFDSyxjQUFKLENBQW1CLFlBQU07TUFDdkJuQixvQkFBb0IsQ0FBQ2UsUUFBckIsQ0FBOEJDLEdBQTlCLEVBQW1DQyxpQkFBbkM7SUFDRCxDQUZEO0VBR0QsQ0FUUztFQVVWRyx1QkFBdUIsRUFBRSxpQ0FBVUMsRUFBVixFQUE0QjtJQUNuRFgsMEJBQTBCLENBQUNZLEdBQTNCLENBQStCRCxFQUEvQjtJQUNBVCxlQUFlLEdBQUcsSUFBbEI7RUFDRCxDQWJTO0VBY1ZXLHlCQUF5QixFQUFFLG1DQUFVRixFQUFWLEVBQTRCO0lBQ3JEWCwwQkFBMEIsQ0FBQ2MsTUFBM0IsQ0FBa0NILEVBQWxDOztJQUVBLElBQUlYLDBCQUEwQixDQUFDZSxJQUEzQixLQUFvQyxDQUF4QyxFQUEyQztNQUN6Q2IsZUFBZSxH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